(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(2471)}])},2471:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ea}});var s=a(5893),n=a(7294),r=a(512),l=a(8388);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.m6)((0,r.W)(t))}function c(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:i("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:i("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("h4",{"data-slot":"card-title",className:i("leading-none",t),...a})}function x(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:i("px-6 [&:last-child]:pb-6",t),...a})}var m=a(3707),h=a(3125),u=a(5959),g=a(6672),v=a(7929),p=a(7497);function j(){return(0,s.jsx)("header",{className:"bg-white shadow-sm border-b-2 border-red-600",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(h.Z,{className:"w-7 h-7 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Swiss Expert League"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Fantasy Premier League Dashboard"})]})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Season 2024/25"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Live Updates"})]}),(0,s.jsx)("div",{className:"w-8 h-6 bg-red-600 rounded-sm flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-4 h-4 bg-white rounded-sm"})})]})]})})})}function f(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:i("w-full caption-bottom text-sm",t),...a})})}function b(e){let{className:t,...a}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:i("[&_tr]:border-b",t),...a})}function N(e){let{className:t,...a}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:i("[&_tr:last-child]:border-0",t),...a})}function y(e){let{className:t,...a}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:i("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function w(e){let{className:t,...a}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:i("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function _(e){let{className:t,...a}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:i("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}let k=(0,a(1608).eI)("https://uknbhhppdcyygjlnfare.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVrbmJoaHBwZGN5eWdqbG5mYXJlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzODM1NzIsImV4cCI6MjA3MDk1OTU3Mn0.Qxx7vvV74dmjPFj5BEYcXtJ-Iv1T6HlVMY6S4n_Fz7I");async function S(){try{let{data:e,error:t}=await k.from("vw_manager_of_month_totals").select("month_utc").limit(50);if(t||!e)return[];return Array.from(new Set(e.map(e=>e.month_utc).filter(e=>!!e))).sort().reverse()}catch(e){return[]}}async function C(){try{let{data:e,error:t}=await k.from("vw_chip_usage_roi").select("*").order("roi_vs_league_avg",{ascending:!1});if(t||!e)return[];return e}catch(e){return[]}}async function L(e){try{let t=await S(),a=k.from("vw_manager_of_month_totals").select("*");if(t.length){let s=t[0];if(e){let a=t.find(t=>t.toLowerCase().includes(e.toLowerCase()));a&&(s=a)}a=a.eq("month_utc",s)}let{data:s,error:n}=await a.limit(20);if(n||!s||!s.length)return[];let r=s[0],l=["total_points","monthly_points","points","score"].find(e=>e in r);return(l?[...s].sort((e,t)=>{var a,s;return(null!==(a=t[l])&&void 0!==a?a:0)-(null!==(s=e[l])&&void 0!==s?s:0)}):s).map((e,t)=>{var a,s,n;return{...e,rank:null!==(a=e.rank)&&void 0!==a?a:t+1,total_points:l?e[l]:null!==(n=null!==(s=e.total_points)&&void 0!==s?s:e.points)&&void 0!==n?n:0}})}catch(e){return[]}}async function I(){try{let{data:e,error:t}=await k.from("vw_manager_of_month_winners").select("*").order("month_utc",{ascending:!1}).limit(12);if(t||!e)return[];let a=e[0],s=["total_points","monthly_points","points","score"].find(e=>e in a);return e.map(e=>{var t,a;return{...e,total_points:s?e[s]:null!==(a=null!==(t=e.total_points)&&void 0!==t?t:e.points)&&void 0!==a?a:0}})}catch(e){return[]}}async function U(){try{let{data:e,error:t}=await k.from("league_snapshots").select("*").order("gw",{ascending:!1}).order("rank",{ascending:!0}).limit(20);if(t||!e)return[];return e}catch(e){return[]}}async function Z(e){try{var t,a;let{data:s,error:n}=await k.from("league_snapshots").select("*").eq("gw",e).order("rank",{ascending:!0});if(n||!s||!s.length)return null;let r=[...s].sort((e,t)=>{var a,s;return(null!==(a=t.total_points)&&void 0!==a?a:0)-(null!==(s=e.total_points)&&void 0!==s?s:0)})[0];return{highestScore:{points:null!==(t=null==r?void 0:r.total_points)&&void 0!==t?t:0,manager:null!==(a=null==r?void 0:r.manager_name)&&void 0!==a?a:"Unknown"},bestCaptain:{points:0,captain:"Unknown",manager:"Unknown"},biggestRise:{positions:0,manager:"Unknown"},biggestFall:{positions:0,manager:"Unknown"}}}catch(e){return null}}async function E(){try{var e;let{data:t,error:a}=await k.from("league_snapshots").select("gw").order("gw",{ascending:!1}).limit(1).maybeSingle();return a||!t?24:null!==(e=t.gw)&&void 0!==e?e:24}catch(e){return 24}}function M(){var e,t;let[a,s]=(0,n.useState)([]),[r,l]=(0,n.useState)([]),[i,c]=(0,n.useState)([]),[o,d]=(0,n.useState)([]),[x,m]=(0,n.useState)(null),[h,u]=(0,n.useState)(24),[g,v]=(0,n.useState)([]),[p,j]=(0,n.useState)(!0),[f,b]=(0,n.useState)(null);(0,n.useEffect)(()=>{!async function(){try{j(!0),b(null);let e=await E();u(e);let t=await S();v(t);try{let e=await C();s(e)}catch(e){}try{let e=await L();l(e)}catch(e){}try{let e=await I();c(e)}catch(e){}try{let e=await U();d(e)}catch(e){}try{let t=await Z(e);m(t)}catch(e){}}catch(e){b("Unexpected error while loading data")}finally{j(!1)}}()},[]);let N=null!==(e=i[0])&&void 0!==e?e:null,y=null!==(t=a[0])&&void 0!==t?t:null,w=a.length>0||r.length>0||i.length>0||o.length>0;return{chipUsageRoi:a,managerOfMonthTotals:r,managerOfMonthWinners:i,currentMonthWinner:N,bestChipRoi:y,leagueStandings:o,gameweekStats:x,latestGameweek:h,availableMonths:g,loading:p,error:w?null:f,hasData:w,refresh:()=>window.location.reload()}}var F=a(1465),T=a(2003);let W=(0,T.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function O(e){let{className:t,variant:a,asChild:n=!1,...r}=e,l=n?F.g7:"span";return(0,s.jsx)(l,{"data-slot":"badge",className:i(W({variant:a}),t),...r})}function R(){let{leagueStandings:e}=M(),t=e.map(e=>{var t,a,s,n,r,l,i,c,o,d,x;return{entry_id:null!==(t=e.entry_id)&&void 0!==t?t:0,manager_name:null!==(a=e.manager_name)&&void 0!==a?a:"Unknown",team_name:null!==(s=e.team_name)&&void 0!==s?s:"",rank:null!==(n=e.rank)&&void 0!==n?n:0,total_points:null!==(l=null!==(r=e.total_points)&&void 0!==r?r:e.points)&&void 0!==l?l:0,gw_points:null!==(c=null!==(i=e.gw_points)&&void 0!==i?i:e.gameweekPoints)&&void 0!==c?c:0,trend:null!==(o=e.trend)&&void 0!==o?o:"same",trend_change:null!==(x=null!==(d=e.trend_change)&&void 0!==d?d:e.trendChange)&&void 0!==x?x:0}}),a=0===t.length;return(0,s.jsxs)("section",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"League Table"}),a&&(0,s.jsx)(O,{variant:"outline",className:"text-xs",children:"No data"})]}),(0,s.jsxs)(c,{children:[(0,s.jsx)(o,{children:(0,s.jsx)(d,{children:"Current Standings"})}),(0,s.jsx)(x,{children:(0,s.jsxs)(f,{children:[(0,s.jsx)(b,{children:(0,s.jsxs)(y,{children:[(0,s.jsx)(w,{className:"w-16",children:"Rank"}),(0,s.jsx)(w,{children:"Manager"}),(0,s.jsx)(w,{children:"Team Name"}),(0,s.jsx)(w,{className:"text-right",children:"Total Points"}),(0,s.jsx)(w,{className:"text-right",children:"GW Points"})]})}),(0,s.jsxs)(N,{children:[t.slice(0,12).map(e=>{var t,a,n,r;return(0,s.jsxs)(y,{children:[(0,s.jsx)(_,{className:"font-medium",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[1===e.rank&&(0,s.jsx)("div",{className:"w-2 h-6 bg-yellow-500 rounded-full"}),e.rank>1&&e.rank<=3&&(0,s.jsx)("div",{className:"w-2 h-6 bg-gray-400 rounded-full"}),e.rank>10&&(0,s.jsx)("div",{className:"w-2 h-6 bg-red-500 rounded-full"}),(0,s.jsx)("span",{children:e.rank})]})}),(0,s.jsx)(_,{className:"font-medium",children:null!==(t=e.manager_name)&&void 0!==t?t:"Unknown Manager"}),(0,s.jsx)(_,{className:"text-gray-600",children:null!==(a=e.team_name)&&void 0!==a?a:"Unknown Team"}),(0,s.jsx)(_,{className:"text-right font-bold",children:(null!==(n=e.total_points)&&void 0!==n?n:0).toLocaleString()}),(0,s.jsx)(_,{className:"text-right",children:null!==(r=e.gw_points)&&void 0!==r?r:0})]},e.entry_id)}),a&&(0,s.jsx)(y,{children:(0,s.jsx)(_,{colSpan:5,className:"text-center text-gray-500 py-8",children:"No standings yet."})})]})]})})]})]})}function D(e){let{title:t,value:a,subtitle:n,icon:r,color:l="text-red-600"}=e;return(0,s.jsxs)(c,{children:[(0,s.jsxs)(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(d,{className:"text-sm font-medium",children:t}),(0,s.jsx)(r,{className:"h-4 w-4 ".concat(l)})]}),(0,s.jsxs)(x,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold ".concat(l),children:a}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:n})]})]})}function J(){let[e,t]=(0,n.useState)(null),[a,r]=(0,n.useState)(null);return((0,n.useEffect)(()=>{let e=!1;return(async()=>{try{let a=await C();e||t(a)}catch(t){var a;e||r(null!==(a=null==t?void 0:t.message)&&void 0!==a?a:"Failed to load chip ROI")}})(),()=>{e=!0}},[]),a)?(0,s.jsx)("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-800",children:a}):null===e?(0,s.jsx)("div",{className:"rounded-xl border bg-white p-4 text-sm text-gray-600",children:"Loading chip ROI…"}):0===e.length?(0,s.jsx)("div",{className:"rounded-xl border bg-white p-4 text-sm text-gray-600",children:"No chips played yet this season."}):(0,s.jsxs)("div",{className:"rounded-xl border bg-white p-4",children:[(0,s.jsx)("div",{className:"mb-3 text-lg font-semibold",children:"Best Chip ROI (vs league avg)"}),(0,s.jsxs)(f,{children:[(0,s.jsx)(b,{children:(0,s.jsxs)(y,{children:[(0,s.jsx)(w,{children:"Manager"}),(0,s.jsx)(w,{className:"hidden sm:table-cell",children:"Team"}),(0,s.jsx)(w,{children:"Chip"}),(0,s.jsx)(w,{children:"GW"}),(0,s.jsx)(w,{className:"text-right",children:"Points"}),(0,s.jsx)(w,{className:"text-right",children:"ROI"})]})}),(0,s.jsx)(N,{children:e.map(e=>{var t,a;return(0,s.jsxs)(y,{children:[(0,s.jsx)(_,{className:"font-medium",children:e.manager_name}),(0,s.jsx)(_,{className:"hidden sm:table-cell",children:e.team_name}),(0,s.jsx)(_,{children:null!==(t=e.chip)&&void 0!==t?t:"—"}),(0,s.jsx)(_,{children:e.gw}),(0,s.jsx)(_,{className:"text-right",children:null!==(a=e.points)&&void 0!==a?a:0}),(0,s.jsx)(_,{className:"text-right",children:function(e){if(null==e)return"—";let t=Number(e);return Number.isNaN(t)?"—":t.toFixed(1)}(e.roi_vs_league_avg)})]},"".concat(e.entry_id,"-").concat(e.gw,"-").concat(e.chip))})})]})]})}var P=a(9388),G=a(547),B=a(1093);function z(e){let{delay:t}=e;return(0,s.jsx)(B.E.div,{className:"absolute w-1 h-1 bg-yellow-400 rounded-full",initial:{opacity:1,scale:0},animate:{opacity:[1,.8,0],scale:[0,1,0],x:[0,60*Math.random()-30],y:[0,60*Math.random()-30]},transition:{duration:1,delay:t,ease:"easeOut"}})}function V(){return(0,s.jsxs)(B.E.div,{className:"relative",animate:{y:[0,-5,0],rotate:[0,3,-3,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[(0,s.jsx)(h.Z,{className:"w-6 h-6 text-yellow-500"}),[void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)(B.E.div,{className:"absolute",style:{left:"".concat(12+15*Math.cos(t*Math.PI/2),"px"),top:"".concat(12+15*Math.sin(t*Math.PI/2),"px")},animate:{opacity:[0,1,0],scale:[0,1,0]},transition:{duration:1,delay:.3*t,repeat:1/0,repeatDelay:2},children:(0,s.jsx)(P.Z,{className:"w-2 h-2 text-yellow-400"})},t))]})}function X(e){if(!e)return"January 2024";try{let t;if(t=new Date(e.includes("T")||e.includes(" ")?e:e.match(/^\d{4}-\d{2}$/)?e+"-01":e),isNaN(t.getTime()))return e;return t.toLocaleDateString("en-US",{month:"long",year:"numeric"})}catch(t){return console.log("Error formatting month:",t),e||"Recent Month"}}function A(){var e;let{managerOfMonthTotals:t,currentMonthWinner:a,availableMonths:n,hasData:r}=M(),l=r&&t.length>0,i=l?t:[],m=i.length>0?i[0]:l&&a?a:null,g=r&&n.length>0?X(n[0]):X(null==m?void 0:m.month_utc)||"January 2024";return(0,s.jsxs)("section",{className:"relative",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(V,{}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Manager of the Month"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:g})]}),!r&&(0,s.jsx)(O,{variant:"outline",className:"ml-auto text-xs",children:"Demo Data"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(B.E.div,{className:"relative",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:(0,s.jsxs)(c,{className:"border-2 border-yellow-400 bg-gradient-to-br from-yellow-50 to-amber-50 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(6)].map((e,t)=>(0,s.jsx)(z,{delay:.2*t},t))}),(0,s.jsxs)(o,{className:"text-center relative pb-3",children:[(0,s.jsx)(B.E.div,{animate:{rotate:[0,360]},transition:{duration:4,repeat:1/0,ease:"linear"},className:"mx-auto mb-2",children:(0,s.jsx)(u.Z,{className:"w-8 h-8 text-yellow-500"})}),(0,s.jsx)(d,{className:"text-lg text-gray-900",children:"\uD83C\uDFC6 Monthly Champion"})]}),(0,s.jsx)(x,{className:"text-center pt-0",children:(0,s.jsxs)(B.E.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:(null==m?void 0:m.manager_name)||"Loading..."}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:(null==m?void 0:m.team_name)||"Loading..."}),(0,s.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,s.jsx)(G.Z,{className:"w-4 h-4 text-yellow-500"}),(0,s.jsx)("span",{className:"text-2xl font-bold text-yellow-600",children:m&&null!==(e="number"==typeof m.points?m.points:m.total_points)&&void 0!==e?e:0}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"points"}),(0,s.jsx)(G.Z,{className:"w-4 h-4 text-yellow-500"})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Best performing manager in ",g.split(" ")[0]]})]})})]})}),(0,s.jsxs)(c,{children:[(0,s.jsx)(o,{className:"pb-3",children:(0,s.jsxs)(d,{className:"flex items-center gap-2 text-lg",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 text-yellow-600"}),g.split(" ")[0]," Top 3"]})}),(0,s.jsx)(x,{className:"pt-0",children:(0,s.jsx)("div",{className:"space-y-3",children:i.slice(0,3).map((e,t)=>(0,s.jsxs)(B.E.div,{className:"flex items-center justify-between p-3 rounded-lg ".concat(1===(e.rank||t+1)?"bg-yellow-50":2===(e.rank||t+1)?"bg-gray-50":"bg-orange-50"),initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1*t},children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[1===(e.rank||t+1)&&(0,s.jsx)(u.Z,{className:"w-4 h-4 text-yellow-600"}),2===(e.rank||t+1)&&(0,s.jsx)(h.Z,{className:"w-4 h-4 text-gray-400"}),3===(e.rank||t+1)&&(0,s.jsx)(h.Z,{className:"w-4 h-4 text-amber-600"}),(0,s.jsx)("span",{className:"font-medium text-sm",children:e.rank||t+1})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-sm",children:e.manager_name||"Unknown"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.team_name||"Unknown Team"})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"font-bold text-sm",children:e.total_points||e.points||0}),1===(e.rank||t+1)&&(0,s.jsx)(O,{className:"bg-yellow-500 text-white text-xs",children:"Winner"})]})]},e.entry_id||t))})})]})]})]})}var Y=a(2838);function H(){return(0,s.jsxs)("section",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(Y.Z,{className:"w-6 h-6 text-orange-500"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Longest Green Streak"})]}),(0,s.jsx)(O,{variant:"outline",className:"text-xs",children:"Demo Data"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Green streak = consecutive gameweeks finishing above average"})})]})}let q=(0,T.j)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Q(e){let{className:t,variant:a,...n}=e;return(0,s.jsx)("div",{"data-slot":"alert",role:"alert",className:i(q({variant:a}),t),...n})}function K(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"alert-description",className:i("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...a})}let $={highestScore:{points:84,manager:"Alex Mueller"},bestCaptain:{points:26,captain:"Erling Haaland",manager:"Sarah Weber"},biggestRise:{positions:7,manager:"Marco Rossi"},biggestFall:{positions:5,manager:"Lisa Schmidt"}},ee={mostWeeksFirst:{weeks:8,manager:"Thomas Zimmermann"},mostWeeksLast:{weeks:3,manager:"Peter Keller"},bestChipUsage:{roi:47,manager:"Emma Fischer",gw:12,chip:"Triple Captain"}};function et(){var e,t,a,n,r,l,i,f,b,N,y,w,_,k,S;let{chipUsageRoi:C,managerOfMonthTotals:L,currentMonthWinner:I,bestChipRoi:U,leagueStandings:Z,gameweekStats:E,latestGameweek:F,loading:T,error:W,hasData:O}=M(),P=E||$,G=U||{roi_vs_league_avg:(null===(e=ee.bestChipUsage)||void 0===e?void 0:e.roi)||0,manager_name:(null===(t=ee.bestChipUsage)||void 0===t?void 0:t.manager)||"Loading...",gw:(null===(a=ee.bestChipUsage)||void 0===a?void 0:a.gw)||0,chip:(null===(n=ee.bestChipUsage)||void 0===n?void 0:n.chip)||""};return T?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading Swiss Expert League data..."}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Connecting to database..."})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(j,{}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[!O&&(0,s.jsxs)(Q,{className:"border-yellow-500 bg-yellow-50",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4 text-yellow-600"}),(0,s.jsx)(K,{children:"Using demo data. Database connection issues detected. Some features may show placeholder information."})]}),O&&(0,s.jsxs)(Q,{className:"border-green-500 bg-green-50",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 text-green-600"}),(0,s.jsxs)(K,{children:["Connected to live Swiss Expert League database! Showing real data from gameweek ",F,"."]})]}),(0,s.jsxs)("section",{children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Gameweek ",F," Snapshot"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)(D,{title:"Highest Score",value:(null===(l=P.highestScore)||void 0===l?void 0:null===(r=l.points)||void 0===r?void 0:r.toString())||"0",subtitle:(null===(i=P.highestScore)||void 0===i?void 0:i.manager)||"Loading...",icon:h.Z}),(0,s.jsx)(D,{title:"Best Captain",value:(null===(b=P.bestCaptain)||void 0===b?void 0:null===(f=b.points)||void 0===f?void 0:f.toString())||"0",subtitle:"".concat((null===(N=P.bestCaptain)||void 0===N?void 0:N.captain)||"Loading..."," (").concat((null===(y=P.bestCaptain)||void 0===y?void 0:y.manager)||"",")"),icon:u.Z,color:"text-yellow-600"}),(0,s.jsx)(D,{title:"Biggest Rise",value:"+".concat((null===(w=P.biggestRise)||void 0===w?void 0:w.positions)||0),subtitle:(null===(_=P.biggestRise)||void 0===_?void 0:_.manager)||"Loading...",icon:g.Z,color:"text-green-600"}),(0,s.jsx)(D,{title:"Biggest Fall",value:"-".concat((null===(k=P.biggestFall)||void 0===k?void 0:k.positions)||0),subtitle:(null===(S=P.biggestFall)||void 0===S?void 0:S.manager)||"Loading...",icon:v.Z,color:"text-red-600"})]})]}),(0,s.jsx)(R,{}),(0,s.jsx)(A,{}),(0,s.jsx)(H,{}),(0,s.jsxs)("section",{children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Season Statistics"}),(0,s.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,s.jsx)("strong",{children:"Best Chip Usage"})," = highest positive impact compared to league average. ROI is calculated as (chip week score – average GW score)."]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)(c,{className:"border-l-4 border-l-yellow-500",children:[(0,s.jsx)(o,{children:(0,s.jsxs)(d,{className:"flex items-center gap-2",children:[(0,s.jsx)(u.Z,{className:"w-5 h-5 text-yellow-600"}),"Most Weeks at #1"]})}),(0,s.jsxs)(x,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:ee.mostWeeksFirst.weeks}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:ee.mostWeeksFirst.manager})]})]}),(0,s.jsxs)(c,{className:"border-l-4 border-l-gray-500",children:[(0,s.jsx)(o,{children:(0,s.jsxs)(d,{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Z,{className:"w-5 h-5 text-gray-600"}),"Most Weeks Last Place"]})}),(0,s.jsxs)(x,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:ee.mostWeeksLast.weeks}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:ee.mostWeeksLast.manager})]})]}),(0,s.jsxs)(c,{className:"border-l-4 border-l-green-500",children:[(0,s.jsx)(o,{children:(0,s.jsxs)(d,{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Z,{className:"w-5 h-5 text-green-600"}),"Best Chip Usage"]})}),(0,s.jsxs)(x,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["+",G.roi_vs_league_avg]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[G.manager_name," (GW ",G.gw," ",G.chip,")"]})]})]})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Chip Usage Analysis"}),(0,s.jsx)(J,{})]}),(0,s.jsxs)("footer",{className:"text-center py-8 border-t border-gray-200",children:[(0,s.jsx)("p",{className:"text-gray-600",children:"Swiss Expert League • Updates every 5 minutes during gameweeks"}),O&&(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Last updated from live database • Gameweek ",F]})]})]})]})}function ea(){return(0,s.jsx)(et,{})}}},function(e){e.O(0,[482,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);